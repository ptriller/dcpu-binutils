2009-05-16  Alan Modra  <amodra@bigpond.net.au>

	* ld-elf/orphan3.d, * ld-elf/orphan3a.s, * ld-elf/orphan3b.s,
	* ld-elf/orphan3c.s, * ld-elf/orphan3d.s, * ld-elf/orphan3e.s,
	* ld-elf/orphan3f.s: Increase section size to 16.
	* ld-pe/orphan.d, * ld-pe/orphana.s, * ld-pe/orphanb.s,
	* ld-pe/orphand.s, * ld-pe/orphane.s: Likewise.

2009-05-15  Alan Modra  <amodra@bigpond.net.au>

	* ld-elf/orphan3.d, * ld-elf/orphan3a.s, * ld-elf/orphan3b.s,
	* ld-elf/orphan3c.s, * ld-elf/orphan3d.s, * ld-elf/orphan3e.s,
	* ld-elf/orphan3f.s: New test.
	* ld-pe/orphan.d, * ld-pe/orphana.s, * ld-pe/orphanb.s,
	* ld-pe/orphand.s, * ld-pe/orphane.s: New test.
	* ld-pe/direct.exp: Use is_pecoff_format.
	* ld-pe/longsecn.exp: Delete.
	* ld-pe/pe.exp: Run new test and longsecn tests.

2009-05-15  Andrew Stubbs  <ams@codesourcery.com>
	Paul Brook  <paul@codesourcery.com>

	* ld-arm/arm-elf.exp: Add unwind-5.
	* ld-arm/discard-unwind.ld: New file.
	* ld-arm/unwind-5.d: New test.
	* ld-arm/unwind-5.s: New test.

2009-05-14  Ulrich Weigand  <uweigand@de.ibm.com>

	* ld-spu/icache1.d: Update for compact stubs.

2009-05-14  Ulrich Weigand  <uweigand@de.ibm.com>

	* ld-spu/icache1.d: Update all addresses to accomodate icache
	buffer shifted down 0x800 bytes.

2009-05-14  Ulrich Weigand  <uweigand@de.ibm.com>

	* ld-spu/icache.d: Update file offsets.
	* ld-spu/ovl.d: Likewise.
	* ld-spu/ovl1.d: Likewise.

2009-05-14  Alan Modra  <amodra@bigpond.net.au>

	* ld-spu/icache1.d: Update for changed overlay manager placement.
	* ld-spu/ovl.d: Likewise.
	* ld-spu/ovl2.d: Likewise.

2009-05-05  Paul Brook  <paul@codesourcery.com>

	* ld-arm/arm.ld: Add .ARM.exidx and .ARM.extab.
	* ld-arm/arm-elf.exp: Add unwind-[1-4].
	* ld-arm/unwind-1.d: New test.
	* ld-arm/unwind-1.s: New test.
	* ld-arm/unwind-2.d: New test.
	* ld-arm/unwind-2.s: New test.
	* ld-arm/unwind-3.d: New test.
	* ld-arm/unwind-3.s: New test.
	* ld-arm/unwind-4.d: New test.
	* ld-arm/unwind-4.s: New test.

2009-05-01  Julian Brown  <julian@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Add thumb2-bl-blx-interwork test.
	* ld-arm/thumb2-bl-blx-interwork.s: New.
	* ld-arm/thumb2-bl-blx-interwork.d: New.  

2009-04-30  Nick Clifton  <nickc@redhat.com>

	* ld-ifunc: New directory.
	* ld-ifunc/ifunc.exp: New file: Run the IFUNC tests.
	* ld-ifunc/prog.c: New file.
	* ld-ifunc/lib.c: New file.

2009-04-30  Joseph Myers  <joseph@codesourcery.com>

	* ld-arm/movw-shared-1.d, ld-arm/movw-shared-1.s,
	ld-arm/movw-shared-2.d, ld-arm/movw-shared-2.s,
	ld-arm/movw-shared-3.d, ld-arm/movw-shared-3.s,
	ld-arm/movw-shared-4.d, ld-arm/movw-shared-4.s: New tests.
	* ld-arm/arm-elf.exp: Run these new tests.

2009-04-29  Chris Demetriou  <cgd@google.com>

	* ld-elfvers/vers.exp (vers4b): New test to verify that
	--no-export-dynamic undoes --export-dynamic.

2009-04-28  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-i386/vxworks1-lib.dd: Adjust expected disassembly.
	* ld-i386/vxworks1.dd: Adjust expected disassembly.
	* ld-i386/vxworks1-lib.rd: Sections are swapped.

2009-04-22  Christophe Lyon  <christophe.lyon@st.com>

	PR9743
	* ld-arm/arm-call.d: Update expected result.
	* ld-arm/arm-pic-veneer.d: Likewise.
	* ld-arm/thumb2-b-interwork.d: Likewise.

2009-04-22  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-scripts/rgn-at1.d: Cope with larger padding on sections.
	* ld-scripts/rgn-at2.d: Likewise.
	* ld-scripts/rgn-at3.d: Likewise.

2009-04-21  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/farcall-mix.d, ld-arm/farcall-mix2.d,
	ld-arm/farcall-group-size2.d, ld-arm/farcall-group.d,
	ld-arm/farcall-mixed-lib.d: Update for linker changes.

2009-04-17  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add new test farcall-mixed-lib.
	* ld-arm/farcall-mixed-lib.d: Update expected output.
	* ld-arm/farcall-mixed-lib1.s: New file.
	* ld-arm/farcall-mixed-lib2.s: New file.

2009-04-16  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-export-2.s, ld-powerpc/aix-export-2.nd: New test.
	* ld-powerpc/aix52.exp: Run it.

2009-04-16  Alan Modra  <amodra@bigpond.net.au>

	* ld-libs/lib-1.s: Use "==" instead of ".set".
	* ld-libs/lib-2.s: Likewise.
	* ld-scripts/defined.s: Likewise.

2009-04-15  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add 1 more test to check undef weak
	reference with PLT in ARM mode.
	* ld-arm/thumb2-bl-undefweak1.d, ld-arm/thumb2-bl-undefweak1.s:
	New files.

2009-04-08  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-i386/abs.d: Add  --32 for assembler and -melf_i386 for
	linker.

2009-04-03  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-scripts/rgn-at.s: Use explicit .section pseudos.

2009-04-03  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-pe/image_size.d (#target):  Also run test on Cygwin and x86_64
	MinGW targets.

2009-04-03  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-scripts/rgn-at.exp: New.
	* ld-scripts/rgn-at.s: New.
	* ld-scripts/rgn-at1.d: New.
	* ld-scripts/rgn-at1.t: New.
	* ld-scripts/rgn-at2.d: New.
	* ld-scripts/rgn-at2.t: New.
	* ld-scripts/rgn-at3.d: New.
	* ld-scripts/rgn-at3.t: New.

2009-04-03  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-pe/export_dynamic_warning.s:  Make dummy code portable.

2009-04-02  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-pe/export_dynamic_warning.d (#warning):  Fix regex pattern.

2009-04-02  Dave Korn  <dave.korn.cygwin@gmail.com>

	PR ld/6744
	* ld-pe/export_dynamic_warning.d:  New test control file.
	* ld-pe/export_dynamic_warning.s:  New test source file.
	* ld-pe/pe.exp:  Also run export_dynamic_warning dump test.

2009-04-02  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/farcall-thumb-thumb-pic-veneer.d: Update expected
	results.
	* ld-arm/farcall-thumb-thumb.d: Likewise.

2009-04-02  Nick Clifton  <nickc@redhat.com>

	PR 9987
	* lib/ld-lib.exp (check_gc_sections_available): Do not run garbage
	collection tests for cygwin targets.

2009-04-01  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-gc-1.nd: New test.
	* ld-powerpc/aix52.exp: Run it.

2009-04-01  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-rel-1.s, ld-powerpc/aix-rel-1.od: New test.
	* ld-powerpc/aix52.exp: Run it.

2009-04-01  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-cygwin/exe-export.exp:  Add "-lkernel32" when linking test exe.
	* ld-cygwin/testexe.c (testexe_main):  Indicate whether global_a
	was set to correct final value using error return status.
	(testexe_dummy):  Dummy function calls an import from kernel32.dll
	to ensure it is mapped into the process space at runtime.

2009-04-01  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: BE8 tests expect the same output as the
	default ones.
	* ld-arm/arm-be8.d: Print opcodes in little endian.
	* ld-arm/farcall-thumb-arm-be8.d: Removed useless expected result.
	* ld-arm/farcall-arm-arm-be8.d: Likewise.

2009-03-25  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/tls-e-dtpoffd3.d, ld-cris/tls-e-tpoffcomm1.d,
	ld-cris/tls-e-tpoffcomm1.s: New tests.

2009-03-24  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/tls-commx.s, ld-cris/tls-dso-dtpoffd2.d,
	ld-cris/tls-dso-dtpoffd4.d, ld-cris/tls-dtpoffdx.s,
	ld-cris/tls-e-dtpoffd1.d: New tests.

	* ld-cris/tls-e-20.d, ld-cris/tls-e-20a.d, ld-cris/tls-e-21.d,
	ld-cris/tls-e-80.d, ld-cris/tls-gd-3.d, ld-cris/tls-gd-3h.d,
	ld-cris/tls-global-74.d, ld-cris/tls-ldgde-14.d,
	ld-cris/tls-ldgde-15.d, ld-cris/tls-legd-16.d,
	ld-cris/tls-legd-17.d, ld-cris/tls-local-57.d,
	ld-cris/tls-local-58.d, ld-cris/tls-local-59.d: Adjust for BFD
	change in link-time known GOT contents for GD relocations.

2009-03-20  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/9970
	* ld-pie/pie.exp: Use -fpie to compile.  Run *.d tests.

	* ld-pie/start.d: New.
	* ld-pie/start.s: Likewise.

2009-03-18  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/6766
	* ld-undefined/dummy.s: New.
	* ld-undefined/entry-1.d: Likewise.
	* ld-undefined/entry-2.d: Likewise.
	* ld-undefined/entry-3.d: Likewise.
	* ld-undefined/entry-4.d: Likewise.
	* ld-undefined/entry-5.d: Likewise.
	* ld-undefined/entry-6.d: Likewise.
	* ld-undefined/entry.exp: Likewise.
	* ld-undefined/entry.s: Likewise.

2009-03-17  Alan Modra  <amodra@bigpond.net.au>

	* ld-spu/icache1.d: Update for fixed set_id, new manager entry, and
	reduced data.

2009-03-17  Alan Modra  <amodra@bigpond.net.au>

	* config/default.exp (get_link_files): Replace double dollars with
	single dollars.

2009-03-17  Alan Modra  <amodra@bigpond.net.au>

	* ld-bootstrap/bootstrap.exp: Use DO_COMPARE.  Remove unnecessary
	cleanup and log output.

2009-03-16  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-bootstrap/bootstrap.exp:  Also pass '-liconv' to linker when
	linking statically on Cygwin, necessitated by '-lintl'.

2009-03-15  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-auto-import/auto-import.exp:  Add missing dll entrypoint.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-export-1-all.dd, ld-powerpc/aix-export-1-full.dd,
	ld-powerpc/aix-export-1a.s, ld-powerpc/aix-export-1b.s: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-gc-1.s, ld-powerpc/aix-gc-1.ex,
	ld-powerpc/aix-gc-1-32.dd, ld-powerpc/aix-gc-1-64.dd,
	ld-powerpc/aix-weak-1-gcdso.dnd, ld-powerpc/aix-weak-1-gcdso.hd,
	ld-powerpc/aix-weak-1-gcdso.nd: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-glink-2a.s, ld-powerpc/aix-glink-2a.ex,
	ld-powerpc/aix-glink-2b.s, ld-powerpc/aix-glink-2c.s,
	ld-powerpc/aix-glink-2c.ex, ld-powerpc/aix-glink-2d.s,
	ld-powerpc/aix-glink-2-32.dd, ld-powerpc/aix-glink-2-64.dd,
	ld-powerpc/aix-weak-1a.s, ld-powerpc/aix-weak-1b.s,
	ld-powerpc/aix-weak-1-rel.hd, ld-powerpc/aix-weak-1-rel.nd,
	ld-powerpc/aix-weak-1-dso.hd, ld-powerpc/aix-weak-1-dso.nd,
	ld-powerpc/aix-weak-1-dso.dnd, ld-powerpc/aix-weak-1.ex,
	ld-powerpc/aix-weak-2a.s, ld-powerpc/aix-weak-2a.ex,
	ld-powerpc/aix-weak-2a.nd, ld-powerpc/aix-weak-2b.s,
	ld-powerpc/aix-weak-2b.nd, ld-powerpc/aix-weak-2c.s,
	ld-powerpc/aix-weak-2c.ex, ld-powerpc/aix-weak-2c.nd,
	ld-powerpc/aix-weak-2c.od, ld-powerpc/aix-weak-3a.s,
	ld-powerpc/aix-weak-3a.ex, ld-powerpc/aix-weak-3b.s,
	ld-powerpc/aix-weak-3b.ex, ld-powerpc/aix-weak-3-32.d,
	ld-powerpc/aix-weak-3-32.dd, ld-powerpc/aix-weak-3-64.d,
	ld-powerpc/aix-weak-3-64.dd: New tests.
	* ld-powerpc/aix52.exp: Run them.  Replace tmp/aix-* with
	tmp/aix64-* in 64-bit ld options.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-no-dup-syms-1a.s, ld-powerpc/aix-no-dup-syms-1b.s,
	ld-powerpc/aix-no-dup-syms-1.ex, ld-powerpc/aix-no-dup-syms-1.im,
	ld-powerpc/aix-no-dup-syms-1-dso.dnd,
	ld-powerpc/aix-no-dup-syms-1-dso.drd,
	ld-powerpc/aix-no-dup-syms-1-dso.nd,
	ld-powerpc/aix-no-dup-syms-1-dso.rd,
	ld-powerpc/aix-no-dup-syms-1-rel.nd,
	ld-powerpc/aix-no-dup-syms-1-rel.rd: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-abs-branch-1.nd,
	ld-powerpc/aix-abs-reloc-1.nd: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-lineno-1.s, ld-powerpc/aix-lineno-1.txt,
	ld-powerpc/aix-lineno-1a.dd, ld-powerpc/aix-lineno-1a.nd,
	ld-powerpc/aix-lineno-1b.dd, ld-powerpc/aix-lineno-1b.nd: New tests.
	* ld-powerpc/aix52.exp: Run them.  Copy aix-lineno-1.txt to tmpdir.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-toc-1.ex, ld-powerpc/aix-toc-1a.s,
	ld-powerpc/aix-toc-1b.s, ld-powerpc/aix-toc-1-32.dd,
	ld-powerpc/aix-toc-1-64.dd: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-glink-1.ex, ld-powerpc/aix-glink-1.s,
	ld-powerpc/aix-glink-1-32.dd, ld-powerpc/aix-glink-1-64.dd,
	ld-powerpc/aix-glink-1-32.d, ld-powerpc/aix-glink-1-64.d: New tests.
	* ld-powerpc/aix52.exp: Run them.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-abs-branch-1.im, ld-powerpc/aix-abs-branch-1.ex,
	ld-powerpc/aix-abs-branch-1.s,
	ld-powerpc/aix-abs-branch-1.dd: New test.
	* ld-powerpc/aix52.exp: Run it.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-abs-reloc-1.ex, ld-powerpc/aix-abs-reloc-1.im,
	ld-powerpc/aix-abs-reloc-1.od, ld-powerpc/aix-abs-reloc-1.s: New test.
	* ld-powerpc/aix52.exp: Run it.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* ld-powerpc/aix-core-sec-1.s, ld-powerpc/aix-core-sec-1.ex,
	ld-powerpc/aix-core-sec-1.hd, ld-powerpc/aix-core-sec-2.s,
	ld-powerpc/aix-core-sec-2.ex, ld-powerpc/aix-core-sec-2.hd,
	ld-powerpc/aix-core-sec-3.s, ld-powerpc/aix-core-sec-3.ex,
	ld-powerpc/aix-core-sec-3.hd: New tests.
	* ld-powerpc/aix52.exp: New harness.

2009-03-14  Richard Sandiford  <r.sandiford@uk.ibm.com>

	* lib/ld-lib.exp (ar_simple_create): Add an "aropts" parameter.
	(run_ld_link_tests): Treat the second list element as "ar" options
	when creating an archive.  Don't run the linker in this case.
	(run_cc_link_tests): Likewise.

2009-03-13  Nick Clifton  <nickc@redhat.com>

	* lib/ld-lib.exp (run_dump_test): Add verbose to list of globals.
	Replace call to verbose_eval with a test of verbose level.  If
	greater than 2 always dump the contents of the dumpfile.  If equal
	to 2 only dump the contents if the regexp diff failed.
	(proc verbose_eval): Delete.

2009-03-07  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>

	* ld-elf/empty2.d: Remove xfail for hppa*-*-*.
	* ld-elf/merge.d: Change xfail for hppa to hppa*64*-*-*.

2009-03-05  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add new farcall-group-limit test.
	* ld-arm/farcall-group-limit.d: New file.
	* ld-arm/farcall-group3.s: New file.
	* ld-arm/farcall-group4.s: New file.

2009-03-05  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add 2 more tests to check long branch stubs
	in PLT context.
	* ld-arm/farcall-mixed-app-v5.d: New file.
	* ld-arm/farcall-mixed-app.d: Likewise.
	* ld-arm/farcall-mixed-app.r: Likewise.
	* ld-arm/farcall-mixed-app.s: Likewise.
	* ld-arm/farcall-mixed-app.sym: Likewise.
	* ld-arm/farcall-mixed-lib.d: Likewise.
	* ld-arm/farcall-mixed-lib.r: Likewise.

2009-03-04  Alan Modra  <amodra@bigpond.net.au>

	* ld-powerpc/tlsmark.s, * ld-powerpc/tlsmark.d: New test.
	* ld-powerpc/tlsmark32.s, * ld-powerpc/tlsmark32.d: New test.
	* ld-powerpc/powerpc.exp: Run them.

2009-03-02  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* ld-scripts/regions-alias-1.t: New file.
	* ld-scripts/regions-alias-2.t: New file.
	* ld-scripts/regions-alias-3.t: New file.
	* ld-scripts/regions-alias-4.t: New file.
	* ld-scripts/script.exp: Run region alias tests.

2009-02-27  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-pe/pe.exp:  Disable auto-import when linking on Cygwin.

2009-02-26  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add 3 tests for the 3 new stubs.
	* ld-arm/farcall-thumb-arm-pic-veneer.d: New expected result, the
	test is now expected to pass.
	* ld-arm/farcall-thumb-thumb-m-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-thumb-pic-veneer.d: Likewise.

2009-02-25  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/thumb2-bl-as-thumb1-bad-noeabi.d: Update expected result,
	as stubs are now generated and the end of the .text section.
	* ld-arm/thumb2-bl-bad-noeabi.d: Likewise.

2009-02-24  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/farcall-arm-thumb-blx-pic-veneer.d,
	ld-arm/farcall-arm-thumb-pic-veneer.d,
	ld-arm/farcall-thumb-thumb-blx-pic-veneer.d: Update for fixed
	Thumb PIC stub.

2009-02-24  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Update duplicate test names.
	Use normal output files for big-endian.
	* ld-arm/farcall-arm-arm-be.d, ld-arm/farcall-thumb-arm-be.d: Delete.
	* ld-arm/farcall-arm-arm-be8.d, ld-arm/farcall-arm-arm-pic-veneer.d,
	ld-arm/farcall-arm-arm.d, ld-arm/farcall-arm-thumb-blx-pic-veneer.d,
	ld-arm/farcall-arm-thumb-blx.d, ld-arm/farcall-arm-thumb-pic-veneer.d,
	ld-arm/farcall-arm-thumb.d, ld-arm/farcall-group-size2.d,
	ld-arm/farcall-group.d, ld-arm/farcall-mix.d, ld-arm/farcall-mix2.d,
	ld-arm/farcall-thumb-arm-be8.d,
	ld-arm/farcall-thumb-arm-blx-pic-veneer.d,
	ld-arm/farcall-thumb-arm-blx.d, ld-arm/farcall-thumb-arm-short.d,
	ld-arm/farcall-thumb-arm.d,
	ld-arm/farcall-thumb-thumb-blx-pic-veneer.d,
	ld-arm/farcall-thumb-thumb-blx.d, ld-arm/farcall-thumb-thumb-m.d,
	ld-arm/farcall-thumb-thumb.d, ld-arm/thumb2-bl-as-thumb1-bad.d,
	ld-arm/thumb2-bl-bad.d: Update for moved stubs.

2009-02-23  Daniel Jacobowitz  <dan@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Run new tests.  Correct BE8 output
	filename.
	* ld-arm/farcall-arm-arm-be.d, ld-arm/farcall-thumb-arm-be.d: New.

2009-02-23  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Add new farcall-thumb-arm-be8 test.
	* ld-arm/farcall-thumb-arm-be8.d: New expected result.
	* ld-arm/farcall-arm-arm-be8.d: Replace wildcards by instructions.

2009-02-23  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/arm-elf.exp: Rewrite non-EABI variants of
	thumb2-bl-as-thumb1-bad and thumb2-bl-bad tests, which now
	pass. farcall-thumb-thumb now passes in EABI mode.
	* ld-arm/farcall-thumb-arm-pic-veneer.d: Fixed name, source, as
	and ld flags to match intended test.
	* ld-arm/farcall-thumb-arm.d: New expected result.
	* ld-arm/farcall-thumb-thumb-m.d: Likewise.
	* ld-arm/farcall-thumb-thumb-m-pic-veneer.d: Fixed name and ld
	flags.
	* ld-arm/farcall-thumb-thumb-pic-veneer.d: Likewise.
	* ld-arm/farcall-thumb-thumb.d: New expected result, this test is
	now expected to pass.
	* ld-arm/thumb2-bl-as-thumb1-bad-noeabi.d: Likewise.
	* ld-arm/thumb2-bl-bad-noeabi.d: Likewise.
	* ld-arm/thumb2-bl-as-thumb1-bad.d: Update addresses according to
	new use.
	* ld-arm/thumb2-bl-as-thumb1-bad.s: Update comment.

2009-18-02  Dave Korn  <dave.korn.cygwin@gmail.com>

	* ld-pe/longsecn-1.d:  New test file.
	* ld-pe/longsecn-2.d:  Likewise.
	* ld-pe/longsecn-3.d:  Likewise.
	* ld-pe/longsecn-4.d:  Likewise.
	* ld-pe/longsecn-5.d:  Likewise.
	* ld-pe/longsecn.d:  Likewise.
	* ld-pe/longsecn.exp:  New test control script.
	* ld-pe/longsecn.s:  New test source file.

2009-02-18  Christophe Lyon  <christophe.lyon@st.com>

	* ld-arm/farcall-arm-arm-pic-veneer.d,
	ld-arm/farcall-arm-thumb-blx-pic-veneer.d,
	ld-arm/farcall-arm-thumb-pic-veneer.d,
	ld-arm/farcall-thumb-arm-blx-pic-veneer.d,
	ld-arm/farcall-thumb-thumb-blx-pic-veneer.d: Fix expected stub
	target.

2009-02-06  Joseph Myers  <joseph@codesourcery.com>

	* lib/ld-lib.exp (check_gc_sections_available): Return 0 for
	*-*-mingw*.

2009-02-05  Joseph Myers  <joseph@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Restore thumb2-b-interwork.

2009-02-03  Maxim Kuvyrkov  <maxim@codesourcery.com>

	* ld-m68k/got-multigot-12-13-14-34-35-ok.d: Update.
	* ld-m68k/got-multigot-14-ok.d: Update.
	* ld-m68k/m68k-got.exp: Update.
	* ld-m68k/got-negative-12-13-14-34-ok.d: Update.
	* ld-m68k/got-negative-14-ok.d: Update.
	* ld-m68k/tls-gd-1.d, ld-m68k/tls-gd-2.d: New tests.
	* ld-m68k/tls-gd-ie-1.d, ld-m68k/tls-ie-1.d: New tests.
	* ld-m68k/tls-ld-1.d, ld-m68k/tls-ld-2.d: New tests.
	* ld-m68k/tls-ld-1.s, ld-m68k/tls-ld-2.s, ld-m68k/tls-le-1.s:
	New test sources.
	* ld-m68k/tls-no-1.s, ld-m68k/tls-gd-ie-1.s, ld-m68k/tls-gd-1.s:
	New test sources.
	* ld-m68k/tls-gd-2.s, ld-m68k/tls-ie-1.s: New test sources.
	* ld-m68k/m68k.exp: Run new tests.
	(merge isa-a isa-a:nodiv): Fix.

2009-02-01  Jan Kratochvil  <jan.kratochvil@redhat.com>

	* ld-elf/eh-group2.s: New `.cfi_lsda' referencing `.gcc_except_table'.
	* ld-elf/eh-group.exp: New test and conditional defininiton of `ELF64'.

2009-01-29  Nick Clifton  <nickc@redhat.com>

	* lib/ld-lib.exp (check_gc_sections_available): Add MeP to list of
	targets which do not support garbage collection.
	* ld-srec/srec.exp (run_srec_test): Expect tests to fail for MeP.
	* ld-elf/group8a.d: Likewise.
	* ld-elf/group8b.d: Likewise.
	* ld-elf/group9a.d: Likewise.
	* ld-elf/group9b.d: Likewise.

2009-01-27  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/tls-tbss64.s, ld-cris/tls-e-80.d: New test.

	* ld-cris/tls-e-20.d, ld-cris/tls-e-20a.d, ld-cris/tls-e-22.d,
	ld-cris/tls-ldgde-14.d, ld-cris/tls-ldgde-15.d,
	ld-cris/tls-ldgdex-14.d, ld-cris/tls-ldgdex-15.d: Adjust for
	change in relocation values.

	* ld-cris/weakhiddso.d, ld-cris/weakhid.s: New test.

2009-01-26  Nathan Sidwell  <nathan@codesourcery.com>

	* ld-powerpc/powerpc.exp: Add vxworks relax testcase.
	* ld-powerpc/vxworks-relax.s, ld-powerpc/vxworks-relax.rd: New.
	* ld-powerpc/vxworks1.ld: Add .pad and .far input sections.
	* ld-powerpc/vxworks1.rd: Correct regexp for undefined symbols.

2009-01-26  Andrew Stubbs  <ams@codesourcery.com>

	* ld-arm/attr-merge-3.attr: Update following gas change.
	* ld-arm/attr-merge-2.attr: Update Tag_ARM_ISA_use and
	Tag_THUMB_ISA_use following gas changes.
	* ld-arm/attr-merge-4.attr: Likewise.
	* ld-arm/attr-merge-5.attr: Likewise.
	* ld-arm/attr-merge-arch-1.attr: Likewise.
	* ld-arm/attr-merge-arch-2.attr: Likewise.
	* ld-arm/attr-merge-unknown-2.d: Likewise.
	* ld-arm/attr-merge-unknown-2r.d: Likewise.
	* ld-arm/attr-merge-unknown-3.d: Likewise.
	* ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld-arm/attr-merge.attr: Likewise.

2009-01-21  Alan Modra  <amodra@bigpond.net.au>

	* ld-spu/icache1.d: Add --non-ia-text to ld options.

2009-01-19  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/expdref3.s, ld-cris/expdref4.s, ld-cris/weakref3.d,
	ld-cris/weakref4.d: New tests.
	* ld-cris/libdso-15b.d: Adjust for recent weakref fix.

2009-01-19  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/group9.s: Replace .byte with .long.

2009-01-19  Andrew Stubbs  <ams@codesourcery.com>

	* ld-arm/arm-elf.exp (armeabitests): Add EABI attribute merging 3,
	EABI attribute merging 4, and EABI attribute merging 5,
	EABI attribute arch merging 1, EABI attribute arch merging 1 reversed,
	EABI attribute arch merging 2, EABI attribute arch merging 2 reversed.
	Add attr-merge-unknown-1, attr-merge-unknown-2, attr-merge-unknown-2r,
	and attr-merge-unknown-3 dump tests.
	* ld-arm/arch-v6.s: New file.
	* ld-arm/arch-v6k.s: New file.
	* ld-arm/arch-v6t2.s: New file.
	* ld-arm/attr-merge-3.attr: New file.
	* ld-arm/attr-merge-3a.s: New file.
	* ld-arm/attr-merge-3b.s: New file.
	* ld-arm/attr-merge-4.attr: New file.
	* ld-arm/attr-merge-4a.s: New file.
	* ld-arm/attr-merge-4b.s: New file.
	* ld-arm/attr-merge-5.attr: New file.
	* ld-arm/attr-merge-5.s: New file.
	* ld-arm/attr-merge-arch-1.attr: New file.
	* ld-arm/attr-merge-arch-2.attr: New file.
	* ld-arm/attr-merge-unknown-1.d: New file.
	* ld-arm/attr-merge-unknown-1.s: New file.
	* ld-arm/attr-merge-unknown-2.d: New file.
	* ld-arm/attr-merge-unknown-2.s: New file.
	* ld-arm/attr-merge-unknown-2r.d: New file.
	* ld-arm/attr-merge-unknown-3.d: New file.
	* ld-arm/blank.s: New file.

2009-01-16  H.J. Lu  <hongjiu.lu@intel.com>

	* ld-elf/textaddr1.d: New.
	* ld-elf/textaddr2.d: Likewise.

2009-01-14  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/9727
	* ld-elf/group8.s: New.
	* ld-elf/group8a.d: Likewise.
	* ld-elf/group8b.d: Likewise.
	* ld-elf/group9.s: Likewise.
	* ld-elf/group9a.d: Likewise.
	* ld-elf/group9b.d: Likewise.

2009-01-13  Alan Modra  <amodra@bigpond.net.au>

	* ld-spu/icache1.s: New file.
	* ld-spu/icache1.d: New file.

2009-01-13  Alan Modra  <amodra@bigpond.net.au>

	* ld-elf/elf.exp: Save and restore LDFLAGS.
	* ld-scripts/default-script.exp: Likewise.
	* ld-scripts/empty-orphan.exp: Likewise, and add to LDFLAGS rather
	than replacing.
	* ld-scripts/include.exp: Set --local-store for SPU.

2009-01-12  Alan Modra  <amodra@bigpond.net.au>

	* ld-spu/ovl.d: Allow for absolute branches in stubs.
	* ld-spu/ovl2.d: Likewise.

2009-01-11  Jan Kratochvil  <jan.kratochvil@redhat.com>

	* ld-elf/linkoncerdiff.d, ld-elf/linkoncerdiff1.s,
	ld-elf/linkoncerdiff2.s: New.

2009-01-07  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/tls-e-20.d, ld-cris/tls-e-20a.d, ld-cris/tls-e-21.d,
	ld-cris/tls-e-23.d, ld-cris/tls-e-66.d, ld-cris/tls-gd-3.d,
	ld-cris/tls-gd-3h.d, ld-cris/tls-global-74.d,
	ld-cris/tls-ie-8e1.d, ld-cris/tls-ldgde-14.d,
	ld-cris/tls-ldgde-15.d, ld-cris/tls-le-12.d, ld-cris/tls-le-13.d,
	ld-cris/tls-le-13s.d, ld-cris/tls-legd-16.d,
	ld-cris/tls-legd-17.d, ld-cris/tls-legdx-16.d,
	ld-cris/tls-legdx-17.d, ld-cris/tls-leie-18.d,
	ld-cris/tls-leie-19.d, ld-cris/tls-local-57.d,
	ld-cris/tls-local-58.d, ld-cris/tls-local-59.d: Adjust for
	relocation value now offset by negative program TLS block size.
	* ld-cris/tls-le-12s.d: Ditto.  Move 128-byte tls-data to last.
	Adjust accordingly.
	* ld-cris/tls-le-12s.s: Use movs, not movu, for sign-extended
	always-negative relocation.
	* ld-cris/tls-tprelm.s: Move filler data to after symbol for
	tested relocation.
	* ld-cris/tls-ok-36.d: Adjust accordingly.

2009-01-03  Hans-Peter Nilsson  <hp@axis.com>

	* ld-cris/tls-js1.d: New test.

2009-01-02  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/9679
	* ld-elf/pr9679-1.c: New.
	* ld-elf/pr9679-2.c: Likewise.
	* ld-elf/pr9679.rd: Likewise.

	* ld-elf/shared.exp (build_tests): Add test for libpr9679.so.

2009-01-02  H.J. Lu  <hongjiu.lu@intel.com>

	PR ld/9676
	* ld-elf/pr9676-1.c: New.
	* ld-elf/pr9676-2.c: Likewiswe.
	* ld-elf/pr9676-3.c: Likewiswe.
	* ld-elf/pr9676-4.c: Likewiswe.
	* ld-elf/pr9676.rd: Likewiswe.

	* ld-elf/shared.exp (build_tests): Add tests for libpr9676-1.a,
	libpr9676-2.a, libpr9676-3.so, libpr9676-4.so and
	libpr9676-4a.so.

	* lib/ld-lib.exp (ar_simple_create): New.
	(run_ld_link_tests): Support archive.
	(run_cc_link_tests): Likewiswe.

For older changes see ChangeLog-2008

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
